从右往左扫（从下往上同理），考虑一朵花：

如果它前面出现一个栅栏，就一直向上，直到没有栅栏为止。

如果一个栅栏出现在它上方，在栅栏上方添加一个分身，在栅栏消失时删去。

因为栅栏不会相交，所以几乎没有边界条件。
